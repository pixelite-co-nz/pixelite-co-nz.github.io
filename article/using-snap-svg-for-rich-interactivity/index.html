<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
        <meta name="description" content="What is Snap.svg?">
    


    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/favicon-194x194.png" sizes="194x194">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#603cba">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <!-- OpenGraph Tags -->
    <meta property="og:title" content="Using Snap.svg for rich interactivity" />
    <meta property="og:site_name" content="Pixelite" />
    <meta property="og:url" content="http://www.pixelite.co.nz/article/using-snap-svg-for-rich-interactivity" />
    <meta property="og:description" content="A quick intro into using Snap.svg" />
    <meta property="fb:app_id" content="410615979137383" />
    <meta property="og:type" content="article" />

    <meta property="og:locale" content="en_US" />
    
        <meta property="article:author" content="Craig Pearson" />
    
    <meta property="og:image" content="http://www.pixelite.co.nz/img/snap/background.jpg" />

    <!-- Twitter cards -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@pixelite_">
    
        <meta name="twitter:creator" content="@thepearson">
    
    <meta name="twitter:title" content="Using Snap.svg for rich interactivity">
    <meta name="twitter:description" content="A quick intro into using Snap.svg">
    <meta name="twitter:image" content="http://www.pixelite.co.nz/img/snap/background.jpg">

    <title>Using Snap.svg for rich interactivity - Pixelite</title>

    <!-- RSS -->
    <link rel="alternate" type="application/rss+xml" title="All posts" href="http://www.pixelite.co.nz/feed.xml" />
    <link rel="alternate" type="application/rss+xml" title="All Drupal planet posts" href="http://www.pixelite.co.nz/drupalplanet.xml" />

    <link rel="canonical" href="http://www.pixelite.co.nz/article/using-snap-svg-for-rich-interactivity">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>


<body>

    <!-- Navigation -->
<nav class="navbar navbar-pixelite" role="navigation">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/"><img alt="Pixelite homepage" src="/img/pixelite.svg" /></a>
        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about.html">About</a>
                </li>
                <li>
                    <a href="/contact.html">Contact</a>
                </li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    

<article itemscope="" itemtype="http://schema.org/BlogPosting">
    <meta itemprop="inLanguage" content="en-GB"/>
    <meta itemprop="wordCount" content="1211"/>
    <meta itemprop="url" content="http://www.pixelite.co.nz/article/using-snap-svg-for-rich-interactivity"/>

    <!-- Post Header -->
    <header class="intro-header" style="background-image: url('/img/snap/background.jpg')">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="post-heading">
                        <h1 itemprop="name headline">Using Snap.svg for rich interactivity</h1>
                        
                        <h2 class="subheading" itemprop="description">A quick intro into using Snap.svg</h2>
                        

                        <span class="meta">Posted by <a href="/authors/craig-pearson/" title="View Craig Pearson's profile"><span itemprop="author" itemscope="" itemtype="http://schema.org/Person"><span itemprop="name">Craig Pearson</span></span></a> on <time datetime="2015-07-02T00:00:00" itemprop="datePublished">July 2, 2015</time></span>
                        <ul class="social-buttons cf">
                            <li>
                                <a href="http://twitter.com/share" class="socialite twitter-share" data-text="Using Snap.svg for rich interactivity" data-url="http://www.pixelite.co.nz/article/using-snap-svg-for-rich-interactivity" data-count="vertical" rel="nofollow" target="_blank"><span class="vhidden">Share on Twitter</span></a>
                            </li>
                            <li>
                                <a href="https://plus.google.com/share?url=http://www.pixelite.co.nz/article/using-snap-svg-for-rich-interactivity" class="socialite googleplus-one" data-size="tall" data-href="http://www.pixelite.co.nz/article/using-snap-svg-for-rich-interactivity" rel="nofollow" target="_blank"><span class="vhidden">Share on Google+</span></a>
                            </li>
                            <li>
                                <a href="http://www.facebook.com/sharer.php?u=http://www.pixelite.co.nz/article/using-snap-svg-for-rich-interactivity&amp;t=Using%20Snap.svg%20for%20rich%20interactivity" class="socialite facebook-like" data-href="http://www.pixelite.co.nz/article/using-snap-svg-for-rich-interactivity" data-send="false" data-layout="box_count" data-width="60" data-show-faces="false" rel="nofollow" target="_blank"><span class="vhidden">Share on Facebook</span></a>
                            </li>
                            <li>
                                <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http://www.pixelite.co.nz/article/using-snap-svg-for-rich-interactivity&amp;title=Using%20Snap.svg%20for%20rich%20interactivity" class="socialite linkedin-share" data-url="http://www.pixelite.co.nz/article/using-snap-svg-for-rich-interactivity" data-counter="top" rel="nofollow" target="_blank"><span class="vhidden">Share on LinkedIn</span></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Post Content -->
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

                <div itemprop="articleBody">
                    <h2 id="what-is-snapsvg">What is Snap.svg?</h2>

<p>Snap.svg (Snap) is a modern javascript library that allows developers to interact with Scalable vector graphics (or <a href="https://en.wikipedia.org/wiki/Scalable_Vector_Graphics">svg</a>). According to the <a href="http://snapsvg.io/">website</a>. Snap is…</p>

<blockquote>
  <p>… a brand new JavaScript library for working with SVG. Snap provides web developers with a clean, streamlined, intuitive, and powerful API for animating and manipulating both existing SVG content, and SVG content generated with Snap.</p>
</blockquote>

<p>Snap is designed to be a modern replacement for the likes of <a href="http://raphaeljs.com/">Raphael</a>. Instead of focusing on compatibility with the older browsers like Internet Explorer 6, Snap instead drops support for older browsers in favor of a more complete SVG feature set.</p>

<h2 id="a-nondescript-mustachioed-figure">A nondescript mustachioed figure</h2>

<p>I’ll show how I made this basic interactive. (If you want to know how I made the <a href="/img/mario.svg">source SVG</a> file, let me know, I’ll do up a tutorial for that if there’s interest)</p>

<hr />

<div class="inline">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/snap.svg/0.2.0/snap.svg-min.js"></script>

    <script type="application/javascript">
        $(function() {
            var s1 = Snap("#svg");

            Snap.load("/img/mario.svg", function(f) {
                var layer0 = f.select("#mario");
                var original_size = 40;
                var hover_size = 24;
                var animation_time = 250;

                $.each(layer0.selectAll("rect").items, function() {

                    this.attr({
                       origX:  this.attr('x'),
                       origY:  this.attr('y'),
                       modX:  parseInt(this.attr('x')) + ((original_size-hover_size)/2),
                       modY:  parseInt(this.attr('y')) + ((original_size-hover_size)/2)
                    });

                    this.mouseover(function() {
                        this.animate({
                            x: parseInt(this.attr('modX')),
                            y: parseInt(this.attr('modY')),
                            width: hover_size,
                            height: hover_size
                        }, animation_time, mina.bounce);
                    }).mouseout(function() {
                        this.stop();
                        this.animate({
                            x: parseInt(this.attr('origX')),
                            y: parseInt(this.attr('origY')),
                            width: original_size,
                            height: original_size
                        }, animation_time*5, mina.bounce);
                    }).click(function() {
                        alert('The RECT with the ID: "' + this.attr('id') + '", has the style attributes "' + this.attr('style') + '"');
                    });
                });
                s1.append(layer0);
            });

        });
    </script>
    <svg id="svg" viewbox="0 0 640 640" preserveaspectratio="xMinYMin meet"></svg>
</div>

<hr />

<p>While this interactive doesn’t have a whole lot of real-world practicality, it does have the core functionality you’d need when making your own interactive website elements.</p>

<ul>
  <li>Loading an external SVG file</li>
  <li>Element selection</li>
  <li>Setting element attributes</li>
  <li>Binding user events</li>
  <li>Basic animation</li>
</ul>

<h2 id="the-setup">The setup</h2>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;//cdnjs.cloudflare.com/ajax/libs/snap.svg/0.2.0/snap.svg-min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>

<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;application/javascript&quot;</span><span class="nt">&gt;</span>

<span class="c1">// This is the Snap.svg object, It&#39;s an existing node in our DOM.</span>
<span class="kd">var</span> <span class="nx">s1</span> <span class="o">=</span> <span class="nx">Snap</span><span class="p">(</span><span class="s2">&quot;#svg&quot;</span><span class="p">);</span>

<span class="c1">// this is where the main body of our code will go, for the rest of</span>
<span class="c1">// the tutorial I&#39;ll just display the code that goes here.</span>

<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;svg</span> <span class="na">id=</span><span class="s">&quot;svg&quot;</span><span class="nt">&gt;&lt;/svg&gt;</span></code></pre></div>

<p>Here we just load the required Snap library and create a new Snap object. I am also loading jQuery, however this isn’t required, I am just lazy and am using it for brevity.</p>

<h2 id="loading">Loading…</h2>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">s1</span> <span class="o">=</span> <span class="nx">Snap</span><span class="p">(</span><span class="s2">&quot;#svg&quot;</span><span class="p">);</span>
<span class="nx">Snap</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="s2">&quot;/img/mario.svg&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">f</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// #mario is a layer group node within the SVG file</span>
    <span class="c1">// this contains all of the svg elements we want to load.</span>
    <span class="kd">var</span> <span class="nx">layer0</span> <span class="o">=</span> <span class="nx">f</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;#mario&quot;</span><span class="p">);</span>

    <span class="nx">s1</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">layer0</span><span class="p">);</span>
<span class="p">});</span></code></pre></div>

<p>The function <code>Snap.load(FILENAME, CALLBACK)</code> loads the <code>FILENAME</code> and passes it to the <code>CALLBACK</code> function as a Snap object. We then use the Snap selector <code>select(SELECTOR)</code> to grab the group with the <code>ID</code> <strong>mario</strong>. <code>s1.append(layer0);</code> adds the mario group to the <code>&lt;SVG&gt;</code> tag in the DOM. We get the following.</p>

<hr />

<div class="inline">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/snap.svg/0.2.0/snap.svg-min.js"></script>

    <script type="application/javascript">
        $(function() {
            var s1 = Snap("#svg1");

            Snap.load("/img/mario.svg", function(f) {
                var layer0 = f.select("#mario");

                s1.append(layer0);
            });

        });
    </script>
    <svg id="svg1" viewbox="0 0 640 640" preserveaspectratio="xMinYMin meet"></svg>
</div>
<hr />

<h2 id="please-select-player">Please select player</h2>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">layer0</span> <span class="o">=</span> <span class="nx">f</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;#mario&quot;</span><span class="p">);</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">layer0</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;rect&quot;</span><span class="p">).</span><span class="nx">items</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">attr</span><span class="p">({</span>
        <span class="nx">origX</span><span class="o">:</span>  <span class="k">this</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">),</span>
        <span class="nx">origY</span><span class="o">:</span>  <span class="k">this</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">),</span>
    <span class="p">});</span>

<span class="p">});</span></code></pre></div>

<p>We use the <code>selectAll()</code> function on our loaded layer to find all the <code>RECT</code> objects (all the “pixels” in the <a href="/img/mario.svg">source SVG</a> are <code>RECT</code> nodes.) We can set some attributes on these nodes using the <code>attr()</code> function.</p>

<p>Here we are also setting some attributes (<code>origX/Y</code>) that we’ll use when we apply animation.</p>

<h2 id="its-dangerous-to-go-alone">It’s dangerous to go alone</h2>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">$</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">layer0</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;rect&quot;</span><span class="p">).</span><span class="nx">items</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">attr</span><span class="p">({</span>
       <span class="nx">origX</span><span class="o">:</span>  <span class="k">this</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">),</span>
       <span class="nx">origY</span><span class="o">:</span>  <span class="k">this</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">),</span>
    <span class="p">});</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;The RECT with the ID: &quot;&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&quot;, has the style attributes &quot;&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;style&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&quot;&#39;</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">});</span></code></pre></div>

<p>What we’ve done here is bind a click event to each of the pixels which will pop up a javascript alert and display the ID and <code>style=""</code> attributes for that node. Try clicking on the pixels below.</p>

<hr />

<div class="inline">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/snap.svg/0.2.0/snap.svg-min.js"></script>

    <script type="application/javascript">
        $(function() {
            var s1 = Snap("#svg2");
            Snap.load("/img/mario.svg", function(f) {
                var layer0 = f.select("#mario");
                var original_size = 40;
                var hover_size = 24;
                var animation_time = 250;

                $.each(layer0.selectAll("rect").items, function() {

                    this.attr({
                       origX:  this.attr('x'),
                       origY:  this.attr('y'),
                    });

                    this.click(function() {
                        alert('The RECT with the ID: "' + this.attr('id') + '", has the style attributes "' + this.attr('style') + '"');
                    });
                });

                s1.append(layer0);
            });

        });
    </script>
    <svg id="svg2" viewbox="0 0 640 640" preserveaspectratio="xMinYMin meet"></svg>
</div>
<hr />

<h2 id="da-da-daa-da-daa-da-huh">Da da daa da daa DA! (huh?!?)</h2>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">s1</span> <span class="o">=</span> <span class="nx">Snap</span><span class="p">(</span><span class="s2">&quot;#svg&quot;</span><span class="p">);</span>
<span class="nx">Snap</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="s2">&quot;/img/mario.svg&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">f</span><span class="p">)</span> <span class="p">{</span>
<span class="kd">var</span> <span class="nx">layer0</span> <span class="o">=</span> <span class="nx">f</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;#mario&quot;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">original_size</span> <span class="o">=</span> <span class="mi">40</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">hover_size</span> <span class="o">=</span> <span class="mi">24</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">animation_time</span> <span class="o">=</span> <span class="mi">250</span><span class="p">;</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">layer0</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">&quot;rect&quot;</span><span class="p">).</span><span class="nx">items</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">attr</span><span class="p">({</span>
       <span class="nx">origX</span><span class="o">:</span>  <span class="k">this</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">),</span>
       <span class="nx">origY</span><span class="o">:</span>  <span class="k">this</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">),</span>
       <span class="nx">modX</span><span class="o">:</span>  <span class="nb">parseInt</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">))</span> <span class="o">+</span> <span class="p">((</span><span class="nx">original_size</span><span class="o">-</span><span class="nx">hover_size</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span>
       <span class="nx">modY</span><span class="o">:</span>  <span class="nb">parseInt</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">))</span> <span class="o">+</span> <span class="p">((</span><span class="nx">original_size</span><span class="o">-</span><span class="nx">hover_size</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
    <span class="p">});</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">mouseover</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">animate</span><span class="p">({</span>
            <span class="nx">x</span><span class="o">:</span> <span class="nb">parseInt</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;modX&#39;</span><span class="p">)),</span>
            <span class="nx">y</span><span class="o">:</span> <span class="nb">parseInt</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;modY&#39;</span><span class="p">)),</span>
            <span class="nx">width</span><span class="o">:</span> <span class="nx">hover_size</span><span class="p">,</span>
            <span class="nx">height</span><span class="o">:</span> <span class="nx">hover_size</span>
        <span class="p">},</span> <span class="nx">animation_time</span><span class="p">,</span> <span class="nx">mina</span><span class="p">.</span><span class="nx">bounce</span><span class="p">);</span>
    <span class="p">}).</span><span class="nx">mouseout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">stop</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">animate</span><span class="p">({</span>
            <span class="nx">x</span><span class="o">:</span> <span class="nb">parseInt</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;origX&#39;</span><span class="p">)),</span>
            <span class="nx">y</span><span class="o">:</span> <span class="nb">parseInt</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;origY&#39;</span><span class="p">)),</span>
            <span class="nx">width</span><span class="o">:</span> <span class="nx">original_size</span><span class="p">,</span>
            <span class="nx">height</span><span class="o">:</span> <span class="nx">original_size</span>
        <span class="p">},</span> <span class="nx">animation_time</span><span class="o">*</span><span class="mi">5</span><span class="p">,</span> <span class="nx">mina</span><span class="p">.</span><span class="nx">bounce</span><span class="p">);</span>
    <span class="p">}).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;The RECT with the ID: &quot;&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&quot;, has the style attributes &quot;&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;style&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&quot;&#39;</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">});</span>
<span class="nx">s1</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">layer0</span><span class="p">);</span></code></pre></div>

<p>Here we’ve set some variables, <code>hover_size</code>, <code>original_size</code>  and <code>animation_time</code>. We also set some attributes <code>modX/Y</code> which are the X and Y co-ords of where we want each pixel to animate to on <code>mouseover</code>. <code>origX/Y</code> are the original X and Y co-ords. We store this so that we have the values to animate backwards after <code>mouseout</code>.</p>

<p>The function <code>animate()</code> takes an object of attributes we want to animate, the length of the animation and finally the easing method. Snap uses <a href="http://snapsvg.io/docs/#mina">mina</a>, and there are half a dozen or so easing methods. They all have their time and place.</p>

<p>Once we run all this we get our original Mario interactive.</p>

<hr />

<div class="inline">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/snap.svg/0.2.0/snap.svg-min.js"></script>

    <script type="application/javascript">
        $(function() {
            var s1 = Snap("#svg3");
            Snap.load("/img/mario.svg", function(f) {
                var layer0 = f.select("#mario");
                var original_size = 40;
                var hover_size = 24;
                var animation_time = 250;

                $.each(layer0.selectAll("rect").items, function() {
                    this.attr({
                       origX:  this.attr('x'),
                       origY:  this.attr('y'),
                       modX:  parseInt(this.attr('x')) + ((original_size-hover_size)/2),
                       modY:  parseInt(this.attr('y')) + ((original_size-hover_size)/2)
                    });

                    this.mouseover(function() {
                        this.animate({
                            x: parseInt(this.attr('modX')),
                            y: parseInt(this.attr('modY')),
                            width: hover_size,
                            height: hover_size
                        }, animation_time, mina.bounce);
                    }).mouseout(function() {
                        this.stop();
                        this.animate({
                            x: parseInt(this.attr('origX')),
                            y: parseInt(this.attr('origY')),
                            width: original_size,
                            height: original_size
                        }, animation_time*5, mina.bounce);
                    }).click(function() {
                        alert('The RECT with the ID: "' + this.attr('id') + '", has the style attributes "' + this.attr('style') + '"');
                    });
                });

                s1.append(layer0);
            });

        });
    </script>
    <svg id="svg3" viewbox="0 0 640 640" preserveaspectratio="xMinYMin meet"></svg>
</div>
<hr />

<h2 id="our-princess-is-in-another-castle">Our princess is in another castle</h2>

<p>As stated earlier, this interactive doesn’t really have a lot of practicality, but hopefully from the info I’ve provided you will be able to imagine useful and unique interactive elements to embed into your websites. The examples provided should illustrate to you the basics of what you can do with Snap.svg.</p>

<p>If you have any questions, or want me to cover any particular section in depth. Leave a comment below and I’ll do my best.</p>

<p>You can download the sourcecode for the interactive here <a href="/img/example.tar.gz">example.tar.gz</a></p>


                </div>

                <hr>

                <div id="disqus_thread"></div>
                <script type="text/javascript">
                    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
                    var disqus_shortname = 'pixelite'; // required: replace example with your forum shortname
                    var disqus_url = 'http://www.pixelite.co.nz/article/using-snap-svg-for-rich-interactivity';

                    /* * * DON'T EDIT BELOW THIS LINE * * */
                    (function() {
                        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                    })();
                </script>
                <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

                <hr>

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/article/debugging-drupal-performance-with-cache-debug/" data-toggle="tooltip" data-placement="top" title="Debugging Drupal performance with Cache Debug module">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="http://www.pixelite.co.nz/article/starter-regression-test-suite-powered-by-casperjs/" data-toggle="tooltip" data-placement="top" title="Starter regression test suite powered by CasperJS">Next Post &rarr;</a>
                    </li>
                    
                </ul>

            </div>
        </div>
    </div>

</article>

<hr>


    <!-- Footer -->
<footer>
    <div class="container">

        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://twitter.com/pixelite_">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    <li>
                        <a href="https://github.com/pixelite-co-nz">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">&copy; Pixelite 2015 <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">Creative Commons Attribution-NonCommercial 4.0 International License</a>.</p>
            </div>
        </div>
    </div>
</footer>

<!-- JS libs -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script src="/js/socialite.min.js"></script>

<!-- Custom JS -->
<script src="/js/clean-blog.js"></script>

<!-- Social links -->
<script type="text/javascript">
    (function($) {
        Socialite.load();
    })(jQuery);
</script>

<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-34737960-1', 'auto');
    ga('send', 'pageview');
</script>


</body>

</html>
