<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta name="description" content="Intro">
    

    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-160x160.png" sizes="160x160">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <title>Installing Solr for development - Pixelite</title>

    <!-- RSS -->
    <link rel="alternate" type="application/rss+xml" title="All posts" href="http://www.pixelite.co.nz/feed.xml" />
    <link rel="alternate" type="application/rss+xml" title="All Drupal planet posts" href="http://www.pixelite.co.nz/drupalplanet.xml" />

    <link rel="canonical" href="http://www.pixelite.co.nz/article/installing-solr-development">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>


<body>

    <!-- Navigation -->
<nav class="navbar navbar-pixelite" role="navigation">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/"><img alt="Pixelite homepage" src="/img/pixelite.svg" width="180" height="60" /></a>
        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about.html">About</a>
                </li>
                <li>
                    <a href="/contact.html">Contact</a>
                </li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    <article itemscope="" itemtype="http://schema.org/BlogPosting">
    <meta itemprop="inLanguage" content="en-GB"/>
    <meta itemprop="wordCount" content="922"/>
    <meta itemprop="url" content="http://www.pixelite.co.nz/article/installing-solr-development"/>

    <!-- Post Header -->
    <header class="intro-header" style="background-image: url('/img/solr/solr1.jpg')">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="post-heading">
                        <h1 itemprop="name headline">Installing Solr for development</h1>
                        
                        <h2 class="subheading" itemprop="description">Simple Solr server setup for use while developing</h2>
                        
                        <span class="meta">Posted by <span itemprop="author" itemscope="" itemtype="http://schema.org/Person"><span itemprop="name">Craig Pearson</span></span> on <time datetime="2014-12-18T00:00:00" itemprop="datePublished">December 18, 2014</time></span>
                        <ul class="social-buttons cf">
                            <li>
                                <a href="http://twitter.com/share" class="socialite twitter-share" data-text="Installing Solr for development" data-url="http://www.pixelite.co.nz/article/installing-solr-development" data-count="vertical" rel="nofollow" target="_blank"><span class="vhidden">Share on Twitter</span></a>
                            </li>
                            <li>
                                <a href="https://plus.google.com/share?url=http://www.pixelite.co.nz/article/installing-solr-development" class="socialite googleplus-one" data-size="tall" data-href="http://www.pixelite.co.nz/article/installing-solr-development" rel="nofollow" target="_blank"><span class="vhidden">Share on Google+</span></a>
                            </li>
                            <li>
                                <a href="http://www.facebook.com/sharer.php?u=http://www.pixelite.co.nz/article/installing-solr-development&amp;t=Installing%20Solr%20for%20development" class="socialite facebook-like" data-href="http://www.pixelite.co.nz/article/installing-solr-development" data-send="false" data-layout="box_count" data-width="60" data-show-faces="false" rel="nofollow" target="_blank"><span class="vhidden">Share on Facebook</span></a>
                            </li>
                            <li>
                                <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http://www.pixelite.co.nz/article/installing-solr-development&amp;title=Installing%20Solr%20for%20development" class="socialite linkedin-share" data-url="http://www.pixelite.co.nz/article/installing-solr-development" data-counter="top" rel="nofollow" target="_blank"><span class="vhidden">Share on LinkedIn</span></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Post Content -->
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

                <div itemprop="articleBody">
                    <h2 id="intro">Intro</h2>

<p><a href="http://lucene.apache.org/solr/">Solr</a> is an open source search engine with many powerful <a href="http://lucene.apache.org/solr/features.html">features</a>.</p>

<p>I encounter a lot of experienced developers that either don’t know how to use it or avoid it as it’s in the <strong>too hard/scary</strong> basket.
In this introductory article we’ll talk briefly about how to install Solr in order to use it for development.</p>

<p>There are many ways to install and configure Solr but in this article I’ll show you how to set it up quickly so you can get started developing with it. While the installation and setup will be generic to any framework you want to develop with, I’ll also, show you a couple of extra steps if you’re using Drupal.</p>

<h2 id="requirements">Requirements</h2>

<p>The only real hard requirement/prerequisite for running Solr is Java. Version 1.6 is recommended for Solr version 4 and upward. <a href="http://www.ubuntu.com/">Ubuntu</a> and Mac should come with Java pre-installed.</p>

<p>I’m not a windows guy so sorry you guys are on your own There’s plenty of resources out <a href="https://www.google.co.nz/webhp?sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8#safe=off&amp;q=installing%20solr%20on%20windows">there</a>.</p>

<p>You can find out the version of Java you are running with the following command.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>java -version

java version <span class="s2">&quot;1.7.0_72&quot;</span>
Java<span class="o">(</span>TM<span class="o">)</span> SE Runtime Environment <span class="o">(</span>build 1.7.0_72-b14<span class="o">)</span>
Java HotSpot<span class="o">(</span>TM<span class="o">)</span> 64-Bit Server VM <span class="o">(</span>build 24.72-b04, mixed mode<span class="o">)</span></code></pre></div>

<p>I am using Ubuntu 14.04 but the instructions in this article should work if you’re on a Mac or another variant of *nix</p>

<h2 id="download">Download</h2>

<p>Open a terminal and make a folder we can use for working in, and change to that directory:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>mkdir solr
<span class="nv">$ </span><span class="nb">cd </span>solr</code></pre></div>

<p>Navigate to the <a href="http://lucene.apache.org/solr/mirrors-solr-latest-redir.html">Solr download page</a> and find the closest mirror for you. At the time of this article the latest version of Solr is 4.10.2.</p>

<p>Copy the download link for either the solr-VERSION.tar.gz or the solr-VERSION.zip. You don’t want the solr-VERSION-src.tgz (this is the source code and will need to be compiled) and download it with wget.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>wget -c http://mirrors.sonic.net/apache/lucene/solr/4.10.4/solr-4.10.4.tgz</code></pre></div>

<h2 id="unpack">Unpack</h2>

<p>Once downloaded (it’ll be about 150M) we can un-compress it and change into the directory.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>tar -zxvf solr-4.10.2.tgz
<span class="nv">$ </span><span class="nb">cd </span>solr-4.10.2/</code></pre></div>

<h2 id="make-a-working-copy">Make a working copy</h2>

<p>In the current directory there is a folder called <strong>example</strong> we want to make a copy of this folder.</p>

<p>We could just use the <strong>example</strong> folder but it’s nice to leave that clean on case you want to use this copy of Solr for other sites as well. So we’ll make a copy and then change directory into the newly created copy.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>cp -prv example my_solr
<span class="nv">$ </span><span class="nb">cd </span>my_solr</code></pre></div>

<h2 id="make-it-work">Make it work</h2>

<p>Now we’re ready to run it for the first time. To run Solr it’s really simple. Simply run:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>java -jar start.jar</code></pre></div>

<p>You should see a whole bunch of output (to stop solr press <strong>CTRL^C</strong>).
After a few seconds if you open your browser and navigate to <a href="http://0.0.0.0:8983/solr/">http://0.0.0.0:8983/solr/</a> you should see something similar to the following (the actual screen may differ depending on your version)</p>

<p><img src="http://www.pixelite.co.nz/img/solr/dashboard.png" alt="Solr dashboard" /></p>

<p>That’s it. Solr is now set up and ready to use.
Depending on your client frame work you may need to makes some config changes to Solr itself.
Consult the installation instructions of your chosen framework.
If you’re using Drupal keep reading and I’ll show you the steps required to make Solr ready for Drupal integration.
First lets stop SOlr from running by hitting <strong>CTRL^C</strong> in your terminal.</p>

<h2 id="modules">Modules</h2>

<p>There are a couple of modules you can use for Drupal integration with Solr.
I wont go into the Drupal configuration side of things (I’ll leave that for another day) but will talk about the steps required to get the Solr server we’ve set up ready for Drupal usage depending on the Solr module you’ve chosen.</p>

<h3 id="search-api-and-apachesolr">Search API and ApacheSolr</h3>

<p>If you’re using the <a href="http://drupal.org/project/search_api">search_api</a> you will need to ensure you have the <a href="http://drupal.org/project/search_api_solr">search_api_solr</a> module installed. Otherwise the <a href="http://drupal.org/project/apachesolr">apachesolr</a> module is the way to go.</p>

<p>In both the <a href="http://drupal.org/project/search_api_solr">search_api_solr</a> and <a href="http://drupal.org/project/apachesolr">apachesolr</a> modules, you’ll find a folder called <strong>solr-conf</strong> in this folder there will be version folders <strong>4.x</strong>, <strong>3.x</strong> etc.
Choose the version of Solr you downloaded. This folder contains all the config files you need to install in your Solr install.
I could probably write a whole bunch of articles about the contents of these files but since this is a beginner tutorial we’ll just take the easiest route.</p>

<p>You want to copy the contents of the <strong>solr-conf/4.x/</strong> folder into your solder core.
We can do this with the following, go back to your terminal, and run (change the path to your Drupal module):</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>cp -v **/path/to/apachesolr/or/search_api_solr/**solr-conf/4.x/* solr/collection1/conf/</code></pre></div>

<p>That will copy the config for your Drupal site into the <strong>my_solr/solr/collection1/conf/</strong> directory.</p>

<h2 id="conclusion">Conclusion</h2>

<p>Solr is now ready for use by your Drupal install. You can run it whenever you like by changing into the <strong>my_solr</strong> directory and starting it.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>java -jar start.jar</code></pre></div>

<p>I wouldn’t recommend using this setup in production. However, for developing on your local machine, it’s perfectly fine.</p>

<p>In the next article, I’ll talk about how to configure the <a href="http://drupal.org/project/search_api">search_api</a> and <a href="http://drupal.org/project/search_api_solr">search_api_solr</a> to use Solr as a search engine for your Drupal site.</p>


                </div>

                <hr>

                <div id="disqus_thread"></div>
                <script type="text/javascript">
                    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
                    var disqus_shortname = 'pixelite'; // required: replace example with your forum shortname
                    var disqus_url = 'http://www.pixelite.co.nz/article/installing-solr-development';

                    /* * * DON'T EDIT BELOW THIS LINE * * */
                    (function() {
                        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                    })();
                </script>
                <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

                <hr>

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/article/adding-apple-android-favicons-drupal" data-toggle="tooltip" data-placement="top" title="Adding Apple and Android favicons to Drupal">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="http://www.pixelite.co.nz/article/analyse-apache-traffic-with-asql-log-interface" data-toggle="tooltip" data-placement="top" title="Analyse Apache traffic with asql log interface">Next Post &rarr;</a>
                    </li>
                    
                </ul>

            </div>
        </div>
    </div>

</article>

<hr>


    <!-- Footer -->
<footer>
    <div class="container">

        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://twitter.com/pixelite_">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    <li>
                        <a href="https://github.com/pixelite-co-nz">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">&copy; Pixelite 2015 <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">Creative Commons Attribution-NonCommercial 4.0 International License</a>.</p>
            </div>
        </div>
    </div>
</footer>

<!-- JS libs -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script src="/js/socialite.min.js"></script>

<!-- Custom JS -->
<script src="/js/clean-blog.js"></script>

<!-- Social links -->
<script type="text/javascript">
    (function($) {
        Socialite.load();
    })(jQuery);
</script>

<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-34737960-1', 'auto');
    ga('send', 'pageview');
</script>


</body>

</html>
