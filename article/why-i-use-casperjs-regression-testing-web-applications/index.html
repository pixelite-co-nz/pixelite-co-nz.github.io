<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
        <meta name="description" content="Everyone has their own continuous integration product of choice, some opt for Selenium, Windmill or many others.">
    


    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/favicon-194x194.png" sizes="194x194">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#603cba">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <!-- OpenGraph Tags -->
    <meta property="og:title" content="Why I use CasperJS for regression testing web applications" />
    <meta property="og:site_name" content="Pixelite" />
    <meta property="og:url" content="http://www.pixelite.co.nz/article/why-i-use-casperjs-regression-testing-web-applications" />
    <meta property="og:description" content="" />
    <meta property="fb:app_id" content="410615979137383" />
    <meta property="og:type" content="article" />

    <meta property="og:locale" content="en_US" />
    
        <meta property="article:author" content="Sean Hamlin" />
    
    <meta property="og:image" content="http://www.pixelite.co.nz/img/casperjs.jpg" />

    <!-- Twitter cards -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@pixelite_">
    
        <meta name="twitter:creator" content="@wiifm">
    
    <meta name="twitter:title" content="Why I use CasperJS for regression testing web applications">
    <meta name="twitter:description" content="">
    <meta name="twitter:image" content="http://www.pixelite.co.nz/img/casperjs.jpg">

    <title>Why I use CasperJS for regression testing web applications - Pixelite</title>

    <!-- RSS -->
    <link rel="alternate" type="application/rss+xml" title="All posts" href="http://www.pixelite.co.nz/feed.xml" />
    <link rel="alternate" type="application/rss+xml" title="All Drupal planet posts" href="http://www.pixelite.co.nz/drupalplanet.xml" />

    <link rel="canonical" href="http://www.pixelite.co.nz/article/why-i-use-casperjs-regression-testing-web-applications">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>


<body>

    <!-- Navigation -->
<nav class="navbar navbar-pixelite" role="navigation">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/"><img alt="Pixelite homepage" src="/img/pixelite.svg" /></a>
        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about.html">About</a>
                </li>
                <li>
                    <a href="/contact.html">Contact</a>
                </li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    

<article itemscope="" itemtype="http://schema.org/BlogPosting">
    <meta itemprop="inLanguage" content="en-GB"/>
    <meta itemprop="wordCount" content="658"/>
    <meta itemprop="url" content="http://www.pixelite.co.nz/article/why-i-use-casperjs-regression-testing-web-applications"/>

    <!-- Post Header -->
    <header class="intro-header" style="background-image: url('/img/casperjs.jpg')">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="post-heading">
                        <h1 itemprop="name headline">Why I use CasperJS for regression testing web applications</h1>
                        

                        <span class="meta">Posted by <a href="/authors/sean-hamlin/" title="View Sean Hamlin's profile"><span itemprop="author" itemscope="" itemtype="http://schema.org/Person"><span itemprop="name">Sean Hamlin</span></span></a> on <time datetime="2013-03-04T00:00:00" itemprop="datePublished">March 4, 2013</time></span>
                        <ul class="social-buttons cf">
                            <li>
                                <a href="http://twitter.com/share" class="socialite twitter-share" data-text="Why I use CasperJS for regression testing web applications" data-url="http://www.pixelite.co.nz/article/why-i-use-casperjs-regression-testing-web-applications" data-count="vertical" rel="nofollow" target="_blank"><span class="vhidden">Share on Twitter</span></a>
                            </li>
                            <li>
                                <a href="https://plus.google.com/share?url=http://www.pixelite.co.nz/article/why-i-use-casperjs-regression-testing-web-applications" class="socialite googleplus-one" data-size="tall" data-href="http://www.pixelite.co.nz/article/why-i-use-casperjs-regression-testing-web-applications" rel="nofollow" target="_blank"><span class="vhidden">Share on Google+</span></a>
                            </li>
                            <li>
                                <a href="http://www.facebook.com/sharer.php?u=http://www.pixelite.co.nz/article/why-i-use-casperjs-regression-testing-web-applications&amp;t=Why%20I%20use%20CasperJS%20for%20regression%20testing%20web%20applications" class="socialite facebook-like" data-href="http://www.pixelite.co.nz/article/why-i-use-casperjs-regression-testing-web-applications" data-send="false" data-layout="box_count" data-width="60" data-show-faces="false" rel="nofollow" target="_blank"><span class="vhidden">Share on Facebook</span></a>
                            </li>
                            <li>
                                <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http://www.pixelite.co.nz/article/why-i-use-casperjs-regression-testing-web-applications&amp;title=Why%20I%20use%20CasperJS%20for%20regression%20testing%20web%20applications" class="socialite linkedin-share" data-url="http://www.pixelite.co.nz/article/why-i-use-casperjs-regression-testing-web-applications" data-counter="top" rel="nofollow" target="_blank"><span class="vhidden">Share on LinkedIn</span></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Post Content -->
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

                <div itemprop="articleBody">
                    <p>Everyone has their own continuous integration product of choice, some opt for <a href="http://docs.seleniumhq.org/">Selenium</a>, <a href="http://www.getwindmill.com/">Windmill</a> or <a href="http://watir.com/">many</a> <a href="https://code.google.com/p/selenium/?redir=1">others</a>.</p>

<p>I will attempt to cover the main reasons why I have chosen to adopt this as my regression suite of choice at a high level here, and then in future blog posts cover the more extensive subjects in more detail. For now this is a 40 foot view of why I use <a href="http://casperjs.org/index.html">CasperJS</a> for automated regression testing.</p>

<h2 id="built-on-top-of-webkit">Built on top of Webkit</h2>
<p>Well to be correct, it is built on top of <a href="https://github.com/ariya/phantomjs">PhantomJS</a>, which in turn is a headless webkit evironment. What this means is you have a real web browser executing and rendering web pages. This affords other opportunities such as</p>

<ul>
  <li>Taking screenshots of the whole page, or part of the page</li>
  <li>Clicking on buttons that execute AJAX</li>
  <li>Checking low level HTTP responses such as headers</li>
</ul>

<p>CasperJS also helps to hide some of the deficiencies of using straight PhantomJS, for example creating a simple navigation series of steps from one page to another page four clicks away is simple and easy to read in CasperJS.</p>

<h2 id="javascript-all-the-things">JavaScript all the things</h2>
<p>CasperJS is written in JavaScript, and this cannot be underestimated, almost all web developers know at least basic JavaScript, so there is no new language to learn here. Your team can be productive from day 1.</p>

<h2 id="extensiblity">Extensiblity</h2>
<p>CasperJS comes with a default regression suite runner script called <a href="https://github.com/n1k0/casperjs/blob/master/tests/run.js">run.js</a>. This script can easily be cloned to add new functionality into your own regression suites. For example we have added:</p>

<ul>
  <li>The ability to specify the required environment to execute the test suite against, e.g. development, staging or production</li>
  <li>Pass in additional (optional) parameters such as admin password</li>
</ul>

<h2 id="abstraction">Abstraction</h2>
<p>Any common functions that can be abstracted from your individual unit tests can be placed into a common include. This enables you to greatly accelerate the creation of regression tests, whilst at the same time maintaining agility to change global tests quickly and easily.</p>

<p>For example you may have a common function called ‘<code>globalPageTests()</code>’, which could check for:</p>

<ul>
  <li>An HTTP 200 is returned</li>
  <li>There are no errors on the page</li>
  <li>There are no warnings on the page</li>
  <li>The page is served from cache</li>
  <li>Global elements like header and footer are all intact</li>
</ul>

<h2 id="developers-can-and-want-to-write-real-world-unit-tests">Developers can (and want to) write real world unit tests</h2>
<p>Regression tests are one of those things that when you are trying to deliver a project on time and on budget can be cut. But if your developers whilst coding a particular feature or page, can write a quick 15 minute regression test, this will save you many times over by the time the project is launched and you have performed dozens of releases to staging and production.</p>

<p>This will also mean that your QA team can spend less time performing boring regression testing, and more time doing the exciting parts.</p>

<h2 id="integration-with-other-products">Integration with other products</h2>
<p>We have also managed to integrate CasperJS deeply into the content management system that we use (Drupal), and now before the regression suite runs, CasperJS:</p>

<ul>
  <li>Logs into Drupal as admin,</li>
  <li>Requests a JSON file that contains dynamic unit test data</li>
  <li>Logs out</li>
</ul>

<p>This means, you can run arbitrary regression tests, based on the code and database in the environment you are currently testing against. For instance, you may wish to test that the ‘breaking news’ functionality is working on your site, but this block only displays if there is a breaking news item of content published. By creating a dynamic regression test, we know what the outcome should be before the test is run.</p>

<p>Of course you can also integrate CasperJS into normal continuous integration suites such as Jenkins (Hudson).</p>

<p>Stay tuned for the next blog post, that will cover the installation of CasperJS</p>

<p>If you have any questions, let me know below.</p>


                </div>

                <hr>

                <div id="disqus_thread"></div>
                <script type="text/javascript">
                    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
                    var disqus_shortname = 'pixelite'; // required: replace example with your forum shortname
                    var disqus_url = 'http://www.pixelite.co.nz/article/why-i-use-casperjs-regression-testing-web-applications';

                    /* * * DON'T EDIT BELOW THIS LINE * * */
                    (function() {
                        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                    })();
                </script>
                <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

                <hr>

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/article/attaching-ajax-events-non-form-page-elements-drupal" data-toggle="tooltip" data-placement="top" title="Attaching AJAX events to non-form page elements in Drupal">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="http://www.pixelite.co.nz/article/convert-existing-textfield-textarea-drupal-7" data-toggle="tooltip" data-placement="top" title="Convert an existing textfield into a textarea in Drupal 7">Next Post &rarr;</a>
                    </li>
                    
                </ul>

            </div>
        </div>
    </div>

</article>

<hr>


    <!-- Footer -->
<footer>
    <div class="container">

        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://twitter.com/pixelite_">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    <li>
                        <a href="https://github.com/pixelite-co-nz">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">&copy; Pixelite 2015 <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">Creative Commons Attribution-NonCommercial 4.0 International License</a>.</p>
            </div>
        </div>
    </div>
</footer>

<!-- JS libs -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script src="/js/socialite.min.js"></script>

<!-- Custom JS -->
<script src="/js/clean-blog.js"></script>

<!-- Social links -->
<script type="text/javascript">
    (function($) {
        Socialite.load();
    })(jQuery);
</script>

<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-34737960-1', 'auto');
    ga('send', 'pageview');
</script>


</body>

</html>
