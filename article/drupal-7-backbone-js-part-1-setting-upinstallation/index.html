<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta name="description" content="Introduction (who the hell is Adam?)">
    


    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/favicon-194x194.png" sizes="194x194">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#603cba">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <title>Drupal 7 & Backbone JS: Part 1 - Setting up/Installation - Pixelite</title>

    <!-- RSS -->
    <link rel="alternate" type="application/rss+xml" title="All posts" href="http://www.pixelite.co.nz/feed.xml" />
    <link rel="alternate" type="application/rss+xml" title="All Drupal planet posts" href="http://www.pixelite.co.nz/drupalplanet.xml" />

    <link rel="canonical" href="http://www.pixelite.co.nz/article/drupal-7-backbone-js-part-1-setting-upinstallation">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>


<body>

    <!-- Navigation -->
<nav class="navbar navbar-pixelite" role="navigation">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/"><img alt="Pixelite homepage" src="/img/pixelite.svg" width="180" height="60" /></a>
        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about.html">About</a>
                </li>
                <li>
                    <a href="/contact.html">Contact</a>
                </li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    

<article itemscope="" itemtype="http://schema.org/BlogPosting">
    <meta itemprop="inLanguage" content="en-GB"/>
    <meta itemprop="wordCount" content="973"/>
    <meta itemprop="url" content="http://www.pixelite.co.nz/article/drupal-7-backbone-js-part-1-setting-upinstallation"/>

    <!-- Post Header -->
    <header class="intro-header" style="background-image: url('/img/post-bg-01.jpg')">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="post-heading">
                        <h1 itemprop="name headline">Drupal 7 & Backbone JS: Part 1 - Setting up/Installation</h1>
                        

                        <span class="meta">Posted by <a href="/authors/adam-bramley/" title="View Adam Bramley's profile"><span itemprop="author" itemscope="" itemtype="http://schema.org/Person"><span itemprop="name">Adam Bramley</span></span></a> on <time datetime="2013-07-23T00:00:00" itemprop="datePublished">July 23, 2013</time></span>
                        <ul class="social-buttons cf">
                            <li>
                                <a href="http://twitter.com/share" class="socialite twitter-share" data-text="Drupal 7 & Backbone JS: Part 1 - Setting up/Installation" data-url="http://www.pixelite.co.nz/article/drupal-7-backbone-js-part-1-setting-upinstallation" data-count="vertical" rel="nofollow" target="_blank"><span class="vhidden">Share on Twitter</span></a>
                            </li>
                            <li>
                                <a href="https://plus.google.com/share?url=http://www.pixelite.co.nz/article/drupal-7-backbone-js-part-1-setting-upinstallation" class="socialite googleplus-one" data-size="tall" data-href="http://www.pixelite.co.nz/article/drupal-7-backbone-js-part-1-setting-upinstallation" rel="nofollow" target="_blank"><span class="vhidden">Share on Google+</span></a>
                            </li>
                            <li>
                                <a href="http://www.facebook.com/sharer.php?u=http://www.pixelite.co.nz/article/drupal-7-backbone-js-part-1-setting-upinstallation&amp;t=Drupal%207%20&%20Backbone%20JS:%20Part%201%20-%20Setting%20up/Installation" class="socialite facebook-like" data-href="http://www.pixelite.co.nz/article/drupal-7-backbone-js-part-1-setting-upinstallation" data-send="false" data-layout="box_count" data-width="60" data-show-faces="false" rel="nofollow" target="_blank"><span class="vhidden">Share on Facebook</span></a>
                            </li>
                            <li>
                                <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http://www.pixelite.co.nz/article/drupal-7-backbone-js-part-1-setting-upinstallation&amp;title=Drupal%207%20&%20Backbone%20JS:%20Part%201%20-%20Setting%20up/Installation" class="socialite linkedin-share" data-url="http://www.pixelite.co.nz/article/drupal-7-backbone-js-part-1-setting-upinstallation" data-counter="top" rel="nofollow" target="_blank"><span class="vhidden">Share on LinkedIn</span></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Post Content -->
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

                <div itemprop="articleBody">
                    <h2 id="introduction-who-the-hell-is-adam">Introduction (who the hell is Adam?)</h2>

<ul>
  <li><a href="http://drupal.org/user/1036766">Drupal</a></li>
  <li><a href="http://twitter.com/theacbramley">Twitter</a></li>
  <li>Senior Drupal Developer for <a href="http://catalyst.net.nz/">Catalyst IT Ltd</a>.</li>
</ul>

<p>I was recently tasked with a small 4 week project for an internal client web application that was required to be built on Drupal 7. The app itself is an incredibly glorified carousel of content with a few other nifty bits and pieces. During analysis I thought this would be a great opportunity to utilise <a href="http://backbonejs.org/">Backbone.js</a> as it’s something I’d always wanted to have a crack at but never gotten around to learning. Furthermore, there seemed to be very little information about building content rich web apps using Drupal and Backbone, giving me an even deeper desire to see what could be done.</p>

<p><em>Note: Unfortunately I can not show screenshots of this application as it is a private client app not accessible to the public. However, I’m currently attempting to <a href="https://drupal.org/node/2045387">contribute a more complex example</a> to the backbone module which is a cut down version of the app I developed.</em></p>

<h2 id="setting-up-from-a-standard-installation">Setting up (from a standard installation)</h2>
<p>This first post is going to be a quick introduction to the <a href="http://drupal.org/project/backbone">Backbone</a> module and how to get it set up. I also assume that you have <a href="https://drupal.org/project/drush">drush</a> set up and know how to use it through the command line :)</p>

<p><strong>Download and enable the Backbone module</strong></p>

<p><em>Currently, there are two modules which provide RESTful access to JSON objects in Drupal: <a href="http://drupal.org/project/services">Services</a> and <a href="http://drupal.org/project/restws">Restful Web Services</a>. This tutorial will entirely use the Services module, a good explaination of the differences can be found in the <a href="http://drupalcode.org/project/backbone.git/blob/refs/heads/7.x-1.x:/README.txt">README</a> of the Backbone module.</em></p>

<p>From the command line you want to download the Backbone module. When you go to enable it, simply enable the backbone_example module and all dependencies (except libraries) that we need for backbone to work will be downloaded and enabled automatically. Ignore the warning about the rest_server module.</p>

<p><a href="/img/backbone/enablebackbone.png">
  <img src="/img/backbone/enablebackbone.png" alt="Download and enable backbone" class="img-responsive img-thumbnail" />
</a></p>

<p><em>Libraries</em></p>

<p>The Backbone module requires a few libraries to work:</p>

<ul>
  <li><a href="http://backbonejs.org/">Backbone.js</a> (pretty obvious)</li>
  <li><a href="http://documentcloud.github.com/underscore/">Underscore.js</a> - this is what the example modules use for templating and it’s what I’ll be using throughout my tutorials. The Backbone module also supports <a href="https://github.com/justjohn/twig.js">Twig.js</a> for templating, but I haven’t tried it out (yet).</li>
  <li>One thing the <a href="https://drupal.org/node/1939012">Backbone module doesn’t specify</a> is the version of jQuery required for the module to even function. You need to visit the jquery update admin page on your Drupal site (should be /admin/config/development/jquery_update) and bump it up to 1.8.</li>
</ul>

<p>For the backbone and underscore download and install them as specified (taken from the README):</p>

<ul>
  <li>Download the latest version of <a href="http://documentcloud.github.com/underscore/">Underscore.js</a>  into the
 appropriate libraries/underscore directory (usually sites/all/libraries/underscore).</li>
  <li>Enable Clean URLs for your site.</li>
  <li>Download the latest version of <a href="http://backbonejs.org/">Backbone.js</a> into sites/all/libraries/backbone.</li>
  <li>Clear your caches! (drush cc all)</li>
</ul>

<p><strong>Configure your site</strong></p>

<p>If you now visit the /backbone_example page you will notice it still doesn’t work. Never fear, there are just a few things that you now have to configure before Backbone will function properly (maybe this should be added to the README too).</p>

<p><em>Configure Services REST endpoint</em>
<strong>Path:</strong> /admin/structure/services</p>

<p>There is a default backbone_rest endpoint which you can use, but I advise you to clone the default one and make your own as this means you can export it to your own features etc. If you use the default one provided by the backbone module, any changes will not be able to be exported without altering contrib code (and no one wants to do that).</p>

<p>Click the dropdown in the operations column and hit clone.</p>

<p><a href="/img/backbone/configureservices.png">
  <img src="/img/backbone/configureservices.png" alt="Configure Services" class="img-responsive img-thumbnail" />
</a></p>

<p><em>Enable Node and Views resources</em>
<strong>Path:</strong> /admin/structure/services/list/my_rest/resources</p>

<p>After saving the endpoint, you need to configure the resources available at the endpoint. For this tutorial we will only be using the Node Resource (and later Views), so tick both of those. You can also configure other things in Services like Authentication, and what formats and parsing are available from the endpoint (under the Server tab).</p>

<p><a href="/img/backbone/configureresources.png">
  <img src="/img/backbone/configureresources.png" alt="Configure Resources" class="img-responsive img-thumbnail" />
</a></p>

<p><em>Configure Backbone module settings</em>
<strong>Path:</strong> /admin/config/development/backbone</p>

<p>The Backbone module also has a settings page where you need to specify the REST Backend, the path to the endpoint, which backbone variant to use, and which pages to include backbone on. For the purposes of the tutorial we’ll set pages to “*” so all pages get the backbone library included. However, in a real project this should be configured to your backbone app’s path(s).</p>

<p><a href="/img/backbone/configurebackbone.png">
  <img src="/img/backbone/configurebackbone.png" alt="Configure Backbone" class="img-responsive img-thumbnail" />
</a></p>

<p><strong>Test it works!</strong>
<strong>Path:</strong> /backbone_example</p>

<p>Going to this page you should see a form. Create a piece of content, then enter it’s nid into this form and hit load. If you see your content appear you’ve got working Backbone and Drupalness!</p>

<p><a href="/img/backbone/testbackbone.png">
  <img src="/img/backbone/testbackbone.png" alt="Test Backbone" class="img-responsive img-thumbnail" />
</a></p>

<h2 id="conclusion">Conclusion</h2>

<p>I hope that this guide has proven of use to helping you set up Backbone on your site, essentially I made it to cover all the gotchas that I ran into while setting it up. Next in this small series of tutorials I’ll be going over the <a href="https://drupal.org/node/2045387">backbone_example_complex submodule</a> that I wrote and am currently trying to get commited to the module. This utilises external libraries, views, and much more complex backbone js. I had a great time learning Backbone and using it with Drupal, I’m definitely not the greatest backbone coder (let alone javascript) but it was a nice break from PHP :).</p>

<h3 id="feedback">Feedback!</h3>

<p>Please give me feedback! This is my first “blog” post so I’d love to know what you thought! If it inspired you to make a Drupal-bone app (yup I just thought of that), or if you know of any awesome apps that use these wonderful technologies let me know in the comments!</p>

                </div>

                <hr>

                <div id="disqus_thread"></div>
                <script type="text/javascript">
                    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
                    var disqus_shortname = 'pixelite'; // required: replace example with your forum shortname
                    var disqus_url = 'http://www.pixelite.co.nz/article/drupal-7-backbone-js-part-1-setting-upinstallation';

                    /* * * DON'T EDIT BELOW THIS LINE * * */
                    (function() {
                        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                    })();
                </script>
                <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

                <hr>

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/article/practical-example-converting-drupal-7-module-work-drupal-8" data-toggle="tooltip" data-placement="top" title="A practical example for converting a Drupal 7 module to work with Drupal 8">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="http://www.pixelite.co.nz/article/guzzle-http-post-authentication-and-form-submission-symfony-20" data-toggle="tooltip" data-placement="top" title="Guzzle for HTTP POST authentication and form submission with Symfony 2.0">Next Post &rarr;</a>
                    </li>
                    
                </ul>

            </div>
        </div>
    </div>

</article>

<hr>


    <!-- Footer -->
<footer>
    <div class="container">

        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://twitter.com/pixelite_">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    <li>
                        <a href="https://github.com/pixelite-co-nz">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">&copy; Pixelite 2015 <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">Creative Commons Attribution-NonCommercial 4.0 International License</a>.</p>
            </div>
        </div>
    </div>
</footer>

<!-- JS libs -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script src="/js/socialite.min.js"></script>

<!-- Custom JS -->
<script src="/js/clean-blog.js"></script>

<!-- Social links -->
<script type="text/javascript">
    (function($) {
        Socialite.load();
    })(jQuery);
</script>

<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-34737960-1', 'auto');
    ga('send', 'pageview');
</script>


</body>

</html>
