<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
        <meta name="description" content="I thought I would describe some of the neat things I have found during this time and some of my lessons learned.">
    


    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/favicon-194x194.png" sizes="194x194">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#603cba">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <!-- OpenGraph Tags -->
    <meta property="og:title" content="10 things I learnt building in Drupal 8" />
    <meta property="og:site_name" content="Pixelite" />
    <meta property="og:url" content="http://www.pixelite.co.nz/article/10-things-i-learnt-building-in-drupal-8/" />
    <meta property="og:description" content="Some of the neat things I have found with Drupal 8 and some of my lessons learned" />
    <meta property="fb:app_id" content="410615979137383" />
    <meta property="og:type" content="article" />
    <meta property="og:locale" content="en_US" />

    
        <meta property="og:image" content="http://www.pixelite.co.nz/img/d8/d8.png" />
    

    <!-- Twitter cards -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@pixelite_">
    
        <meta name="twitter:creator" content="@wiifm">
    
    <meta name="twitter:title" content="10 things I learnt building in Drupal 8">
    <meta name="twitter:description" content="Some of the neat things I have found with Drupal 8 and some of my lessons learned">
    
        <meta name="twitter:image" content="http://www.pixelite.co.nz/img/d8/d8.png">
    


    <title>10 things I learnt building in Drupal 8 - Pixelite</title>

    <!-- RSS -->
    <link rel="alternate" type="application/rss+xml" title="All posts" href="http://www.pixelite.co.nz/feed.xml" />
    <link rel="alternate" type="application/rss+xml" title="All Drupal planet posts" href="http://www.pixelite.co.nz/drupalplanet.xml" />

    <link rel="canonical" href="http://www.pixelite.co.nz/article/10-things-i-learnt-building-in-drupal-8/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>


<body>

    <!-- Navigation -->
<nav class="navbar navbar-pixelite" role="navigation">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/"><img alt="Pixelite homepage" src="/img/pixelite.svg" /></a>
        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
                <li>
                    <a href="/about.html">About</a>
                </li>
                <li>
                    <a href="/contact.html">Contact</a>
                </li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    
<!-- Main Content -->
<article itemscope="" itemtype="http://schema.org/BlogPosting">
    <meta itemprop="inLanguage" content="en-GB"/>
    <meta itemprop="wordCount" content="1576"/>
    <meta itemprop="url" content="http://www.pixelite.co.nz/article/10-things-i-learnt-building-in-drupal-8/"/>

    <header class="intro-header" style="background-image: url('/img/d8/d8.png')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1 itemprop="name headline">10 things I learnt building in Drupal 8</h1>
                    
                    <h2 class="subheading" itemprop="description">Some of the neat things I have found with Drupal 8 and some of my lessons learned</h2>
                    

                    <span class="meta">Posted by <a href="/authors/sean-hamlin/" title="View Sean Hamlin's profile"><span itemprop="author" itemscope="" itemtype="http://schema.org/Person"><span itemprop="name">Sean Hamlin</span></span></a> on <time datetime="2016-05-19T00:00:00" itemprop="datePublished">May 19, 2016</time></span>
                    <ul class="social-buttons cf">
                        <li>
                            <a href="http://twitter.com/share" class="socialite twitter-share" data-text="10 things I learnt building in Drupal 8" data-url="http://www.pixelite.co.nz/article/10-things-i-learnt-building-in-drupal-8/" data-count="vertical" rel="nofollow" target="_blank"><span class="vhidden">Share on Twitter</span></a>
                        </li>
                        <li>
                            <a href="https://plus.google.com/share?url=http://www.pixelite.co.nz/article/10-things-i-learnt-building-in-drupal-8/" class="socialite googleplus-one" data-size="tall" data-href="http://www.pixelite.co.nz/article/10-things-i-learnt-building-in-drupal-8/" rel="nofollow" target="_blank"><span class="vhidden">Share on Google+</span></a>
                        </li>
                        <li>
                            <a href="http://www.facebook.com/sharer.php?u=http://www.pixelite.co.nz/article/10-things-i-learnt-building-in-drupal-8/&amp;t=10%20things%20I%20learnt%20building%20in%20Drupal%208" class="socialite facebook-like" data-href="http://www.pixelite.co.nz/article/10-things-i-learnt-building-in-drupal-8/" data-send="false" data-layout="box_count" data-width="60" data-show-faces="false" rel="nofollow" target="_blank"><span class="vhidden">Share on Facebook</span></a>
                        </li>
                        <li>
                            <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http://www.pixelite.co.nz/article/10-things-i-learnt-building-in-drupal-8/&amp;title=10%20things%20I%20learnt%20building%20in%20Drupal%208" class="socialite linkedin-share" data-url="http://www.pixelite.co.nz/article/10-things-i-learnt-building-in-drupal-8/" data-counter="top" rel="nofollow" target="_blank"><span class="vhidden">Share on LinkedIn</span></a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</header>


    <!-- Post Content -->
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

                <div itemprop="articleBody">
                    <h2 id="introduction">Introduction</h2>

<p>I have had the chance to be involved with 2 fresh builds with Drupal 8 now, I thought I would describe some of the neat things I have found during this time and some of my lessons learned. My hope is that blog post will help you in your journey with Drupal 8.</p>

<h2 id="drupal-console-is-awesome">1. Drupal Console is awesome</h2>

<p>Every time you need to generate a custom module, or a new block in a custom module, you can quickly and easily use <a href="https://drupalconsole.com/">Drupal Console</a> to produce the code scaffolding for you. This quite easily makes the job of a developer a lot less stressful, and allows you to focus on actually writing code that delivers functionality.</p>

<p>I plucked these example commands that I use frequently from my bash history:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">drupal site:mode dev
drupal generate:module
drupal generate:plugin:block
drupal generate:routesubscriber
drupal generate:form:config</code></pre></figure>

<p>Documentation is <a href="http://docs.drupalconsole.com/en/index.html">online</a> but for the most part, the commands are self documenting, if you use the <code>--help</code> option, then you get a great summary on the command, and the other options you can pass in.</p>

<p>The other nice thing is that this is a <a href="http://symfony.com/doc/current/components/console/introduction.html">Symfony Console</a> application, so it should feel very familiar to you if you used another tool written in the same framework.</p>

<h2 id="custom-block-types-are-amazing">2. Custom block types are amazing</h2>

<p>In Drupal 7 land there was <a href="https://www.drupal.org/project/bean">bean</a> which was an attempt to stop making ‘meta’ nodes to fill in content editable parts of complex landing pages. Now, fast forward to Drupal 8, and custom block types are now in Drupal Core.</p>

<p>This basically means as a site builder you now have another really powerful tool at your disposal in order to model content effectively in Drupal 8.</p>

<p>Each custom block type can have it’s own fields, it’s own display settings, and form displays.</p>

<p>Here are the final custom block types on a recent Drupal 8 build:</p>

<p><img src="/img/d8/blocktypes.png" alt="Custom block types in Drupal 8" class="img-responsive img-thumbnail" /></p>

<p>One downside is that there is no access control per custom block type (just a global permission “administer blocks”), no doubt contrib will step in to fill this hole in the future (does anyone know a module that can help here?). In the mean time there is <a href="https://www.drupal.org/node/1975064">drupal.org issue</a> on the subject.</p>

<p>I also found it weird that the custom blocks administration section was not directly under the ‘structure’ section of the site, there is another <a href="https://www.drupal.org/node/2501691">drupal.org issue</a> about normalising this as well. Setting up some default shortcuts really helped me save some time.</p>

<p><img src="/img/d8/shortcuts.png" alt="Shortcuts are handy in Drupal 8 to remember where the custom block section is" class="img-responsive img-thumbnail" /></p>

<h2 id="view-modes-on-all-the-things">3. View modes on all the things</h2>

<p>To create custom view modes in Drupal 7 required either a custom module or Dave Reid’s <a href="https://www.drupal.org/project/entity_view_mode">entity_view_mode</a> contrib module. Now this is baked into Drupal 8 core.</p>

<p>View modes on your custom block types takes things to yet another level still as well. This is one more feather in the Drupal site builder’s cap.</p>

<h2 id="twig-is-the-best">4. Twig is the best</h2>

<p>In Drupal 7 I always found it weird that you could not unleash a front end developer upon your site and expect to have a pleasant result. In order to be successful the themer would need to know PHP, preprocess hooks, template naming standards, the mystical specific order in which the templates apply and so on. This often meant that a backend and front end developer would need to work together in order to create a good outcome.</p>

<p>With the introduction of Twig, I now feel that theming is back in the hands of the front end developer, and knowledge of PHP is no longer needed in order to override just about any markup that Drupal 8 produces.</p>

<p><strong>Pro tip</strong> - use the Drupal Console command <code>drupal site:mode dev</code> to enable Twig development options, and disable Drupal caching. Another positive side effect is that Twig will then render the entire list of templates that you could be using, and which one you actually are using (and where that template is located).</p>

<p><img src="/img/d8/twigdevel.png" alt="Twig developer comments in HTML are the best" class="img-responsive img-thumbnail" /></p>

<p><strong>Pro tip:</strong> - If you want to use a template per custom block type (to which I did), then you can use this PHP snippet in your theme’s <code>.theme</code> file (taken from <a href="https://www.drupal.org/node/2460893#comment-10766412">drupal.org</a>):</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="sd">/**</span>
<span class="sd"> * Implements hook_theme_suggestions_HOOK_alter() for form templates.</span>
<span class="sd"> *</span>
<span class="sd"> * @param array $suggestions</span>
<span class="sd"> * @param array $variables</span>
<span class="sd"> */</span>
<span class="k">function</span> <span class="nf">THEMENAME_theme_suggestions_block_alter</span><span class="p">(</span><span class="k">array</span> <span class="o">&amp;</span><span class="nv">$suggestions</span><span class="p">,</span> <span class="k">array</span> <span class="nv">$variables</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$variables</span><span class="p">[</span><span class="s1">&#39;elements&#39;</span><span class="p">][</span><span class="s1">&#39;content&#39;</span><span class="p">][</span><span class="s1">&#39;#block_content&#39;</span><span class="p">]))</span> <span class="p">{</span>
    <span class="nb">array_splice</span><span class="p">(</span><span class="nv">$suggestions</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;block__bundle__&#39;</span> <span class="o">.</span> <span class="nv">$variables</span><span class="p">[</span><span class="s1">&#39;elements&#39;</span><span class="p">][</span><span class="s1">&#39;content&#39;</span><span class="p">][</span><span class="s1">&#39;#block_content&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">bundle</span><span class="p">());</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<h2 id="panelizer--panels-ipe-is-a-formidable-site-building-tool">5. Panelizer + panels IPE is a formidable site building tool</h2>

<p>When looking for a layout manager to help build the more complex landing pages, I came across <a href="https://www.drupal.org/project/panelizer">panelizer</a> + <a href="https://www.drupal.org/project/panels">panels IPE</a>. Using panelizer you are able to:</p>

<ul>
  <li>create per node layout variants</li>
  <li>apply a single layout to all nodes of a particular bundle (e.g. all your news articles have the same layout)</li>
</ul>

<p>The other neat thing is that the layouts themselves are now standardised between all the various layout managers using a contrib module called <a href="https://www.drupal.org/project/layout_plugin">layout_plugin</a>. Also they are just YAML and Twig. Simple. There is even an effort to get this <a href="https://www.drupal.org/node/2296423">merged into Drupal 8.2</a> which I think would be a great idea.</p>

<p><strong>Downside</strong> - all JS is still rendered on the page even though the user (e.g. anonymous users) have no access to panelizer. There is a patch on <a href="https://www.drupal.org/node/2688951">drupal.org</a> to help fix this.</p>

<p>Since starting this build there has also been a stable release of <a href="https://www.drupal.org/project/ds">display suite</a> come out for Drupal 8 as well giving you even more options.</p>

<h2 id="you-can-build-a-rather-complex-site-with-very-little-contributed-modules">6. You can build a rather complex site with very little contributed modules</h2>

<p>For this most recent site I build I got away with using only 10 contributed modules (one of which - <a href="https://www.drupal.org/project/devel">devel</a> was purely for debugging purposes).</p>

<ul>
  <li>ctools</li>
  <li>google_analytics</li>
  <li>metatag</li>
  <li>panels</li>
  <li>token</li>
  <li>contact_block</li>
  <li>devel</li>
  <li>layout_plugin</li>
  <li>panelizer</li>
  <li>pathauto</li>
</ul>

<p>This means you are inherently building a more stable and supportable site, as most of the functionality now comes out of Drupal core.</p>

<h2 id="the-contact-module-now-is-supercharged">7. The contact module now is supercharged</h2>

<p>In Drupal 7, the contact module was one of those modules to which I never turned on, as it was rather inflexible. You could not change the fields in a UI, nor add email recipients, or have more than 1 form. Now in Drupal 8 you can have as many “contact” forms as you want, each one is fieldable, and can send emails to as many people as needed.</p>

<p>You can also enhance the core module with:</p>

<ul>
  <li><a href="https://www.drupal.org/project/contact_block">contact_block</a> - allows you to place the contact form in a block</li>
  <li><a href="https://www.drupal.org/project/contact_storage">contact_storage</a> - allows you to store the submissions in the database, rather than firing an email and forgetting about it</li>
</ul>

<p>There is still a place for webform, namely:</p>

<ul>
  <li>large complex form with lots of fields</li>
  <li>multi-step forms</li>
  <li>forms you want to ‘save draft’</li>
</ul>

<p>You can read more about this in the <a href="https://www.ostraining.com/blog/drupal/drupal-8-contact-forms/#comment-2333911795">OS training blog post</a> on the contact module.</p>

<p><strong>Downside</strong> - I wanted to have a plain page use the path <code>/contact</code> but the contact module registers this path, so pathauto gave my contact page a path of <code>/contact-0</code>. Luckily creating a <a href="https://www.drupal.org/node/2187643">route subscriber</a> with Drupal Console was painless, so altering the contact module route was very simple to do. I can paste the code here if needed, but most of it is the code that Drupal Console generates for you.</p>

<h2 id="phpunit-is-bundled-into-core">8. PHPunit is bundled into core</h2>

<p>Now that Drupal 8 is largely Object Oriented (OO), you are able to test classes using PHPunit. I have <a href="/article/writing-phpunit-tests-for-your-custom-modules-in-drupal-8/">wrote about phpunit</a> in the past if you want to know more.</p>

<h2 id="views-is-in-core">9. Views is in core</h2>

<p>This was the main reason why adoption of Drupal 7 was so slow after it’s initial 7.0 release, as everyone needed views to be stable before jumping ship. Now with views bundled into core, views plugins are also being ported at a great rate of knots too.</p>

<h2 id="ckeditor-is-in-core">10. CKEditor is in core</h2>

<p>I often found that this was one library that never (or hardly ever) got updated on sites that had been around for a while. More worryingly, CKEditor (the library) would from time to time fix security related issues. Now that this comes with Drupal 8 core, it is just one less thing to worry about.</p>

<p>Also I would love to shout out to <a href="https://www.drupal.org/u/wim-leers">Wim Leers</a> (and other contributors) for <a href="https://www.drupal.org/node/2027181">revamping the image dialog</a> with alignment and caption options. I cannot tell you how much pain and suffering this caused me in Drupal 7.</p>

<p><img src="/img/d8/image.png" alt="The image dialog bundled with Drupal 8 in CKeditor is amazing" class="img-responsive img-thumbnail" /></p>

<h2 id="comments">Comments</h2>

<p>If you have built a site recently in Drupal 8 and have found anything interesting or exciting, please let me know in the comments. Also keen to see what sites people have built, so post a link to it if it is public.</p>

                </div>

                <hr>

                <div id="disqus_thread"></div>
                <script type="text/javascript">
                    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
                    var disqus_shortname = 'pixelite'; // required: replace example with your forum shortname
                    
                        var disqus_url = 'http://www.pixelite.co.nz/article/10-things-i-learnt-building-in-drupal-8/';
                    

                    /* * * DON'T EDIT BELOW THIS LINE * * */
                    (function() {
                        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                    })();
                </script>
                <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

                <hr>

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/article/writing-phpunit-tests-for-your-custom-modules-in-drupal-8/" data-toggle="tooltip" data-placement="top" title="Writing PHPunit tests for your custom modules in Drupal 8">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="http://www.pixelite.co.nz/article/api-testing-using-casperjs/" data-toggle="tooltip" data-placement="top" title="API testing using CasperJS">Next Post &rarr;</a>
                    </li>
                    
                </ul>

            </div>
        </div>
    </div>

</article>

<hr>



    <!-- Footer -->
<footer>
    <div class="container">

        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://twitter.com/pixelite_">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    <li>
                        <a href="https://github.com/pixelite-co-nz">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">&copy; Pixelite 2016 <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">Creative Commons Attribution-NonCommercial 4.0 International License</a>.</p>
            </div>
        </div>
    </div>
</footer>

<!-- JS libs -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script src="/js/socialite.min.js"></script>

<!-- Custom JS -->
<script src="/js/clean-blog.js"></script>

<!-- Social links -->
<script type="text/javascript">
    (function($) {
        Socialite.load();
    })(jQuery);
</script>

<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-34737960-1', 'auto');
    ga('send', 'pageview');
</script>


</body>

</html>
